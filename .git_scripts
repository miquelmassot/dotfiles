function parse_git_branch_and_add_brackets {
      git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\[\1\]/'
}
if [ $(id -u) -eq 0 ];
then # you are root, make the prompt red
  PS1="${debian_chroot:+($debian_chroot)}\u@\h:\W\[\033[0;32m\]\$(parse_git_branch_and_add_brackets)\[\033[0m\]# "
else
  PS1="${debian_chroot:+($debian_chroot)}\u@\h:\W\[\033[0;32m\]\$(parse_git_branch_and_add_brackets)\[\033[0m\]\$ "
fi
